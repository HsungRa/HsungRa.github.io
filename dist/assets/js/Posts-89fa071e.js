import{_ as k,R as P,b as c,o as n,a as m,w as _,d as o,t as i,e as u,F as g,f as y,h as R,i as C,r as x,m as E,c as h,s as N}from"./index-a80274c4.js";import{a as O}from"./ArticleService-6816038d.js";const A={data(){return{ROUTER_BLOG_PANEL:P}},props:{item:{type:Object,required:!0}}};function S(r,s,e,f,p,b){const v=c("category-menu-item",!0),t=c("el-sub-menu"),l=c("el-menu-item");return e.item.sub_categories&&e.item.sub_categories.length>0?(n(),m(t,{key:0,index:e.item.code},{title:_(()=>[o("span",null,i(e.item.category_name),1)]),default:_(()=>[(n(!0),u(g,null,y(e.item.sub_categories,d=>(n(),m(v,{key:d.code,item:d},null,8,["item"]))),128))]),_:1},8,["index"])):(n(),m(l,{key:1,index:e.item.code},{default:_(()=>[R(i(e.item.category_name),1)]),_:1},8,["index"]))}const w=k(A,[["render",S]]),G=r=>{let s="/api/category/list";return r&&(s=`${s}?parent_code=${r}`),C(s)};const T={class:"va-table-responsive"},V={class:"va-table va-table--clickable",style:{width:"100%"}},$=["onClick"],F={__name:"Posts",setup(r){const s=N(),e=x([]),f=x([]),p=t=>{O(t).then(l=>{f.value=l.data})};E(()=>{G().then(t=>{e.value=t.data,e.value.length>0&&p(e.value[0].code)})});const b=t=>{s.push({path:`/blog/${t}`})},v=(t,l)=>{console.log("Selected category code:",t,l),p(t)};return(t,l)=>{const d=c("el-menu"),L=c("el-aside"),B=c("el-main");return n(),u(g,null,[h(L,{class:"el-aside-left"},{default:_(()=>[h(d,{"default-active":t.$route.path,class:"category-menu",onSelect:v,"active-text-color":"#f68b5d"},{default:_(()=>[(n(!0),u(g,null,y(e.value,a=>(n(),m(w,{key:a.code,item:a},null,8,["item"]))),128))]),_:1},8,["default-active"])]),_:1}),h(B,null,{default:_(()=>[o("div",T,[o("table",V,[o("tbody",null,[(n(!0),u(g,null,y(f.value,a=>(n(),u("tr",{key:a.code,onClick:M=>b(a.code)},[o("td",null,i(a.title),1),o("td",null,i(a.tags),1),o("td",null,i(a.time),1)],8,$))),128))])])])]),_:1})],64)}}},q=k(F,[["__scopeId","data-v-d211a82b"]]);export{q as default};
